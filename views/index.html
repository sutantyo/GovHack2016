<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <link rel="stylesheet" href="/css/bootstrap.css">
    <link rel="stylesheet" href="/css/lavish-bootstrap.css">
    <link rel="stylesheet" href="/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="/css/basic.css">
    <script src="js/lib/jquery-2.1.3.min.js" charset="utf-8"></script>
    <script src="js/lib/bootstrap.min.js" charset="utf-8"></script>
    <script src="js/lib/bootstrap-select.min.js" charset="utf-8"></script>
    <script src="js/lib/FileSaver.min.js" charset="utf-8"></script>
    <script src="js/lib/d3.v3.min.js" charset="utf-8"></script>
    <script src="https://maps.google.com/maps/api/js?sensor=true" type="text/javascript"></script>
    <script></script>
    <!-- document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>');-->
  </head>
  <body>
    <div class='container-fluid'>
      <div class='page-header'>
        <h2> Main map </h2>
      </div>

      <div id='mainmap'></div>

      <footer><small>GovHack 2016</small></footer>
    </div>
  </body>

  <script src="js/local/OverlayView.js" charset="utf-8"></script>
  <script>
      var map = new google.maps.Map(d3.select("#mainmap").node(), {
  			zoom: 14,
  			center: new google.maps.LatLng(-33.8150,151.0011),
  			mapTypeId: google.maps.MapTypeId.ROADMAP
  		});
  		var styles = [ {stylers: [{ hue: '#e0dce8' }, { saturation: -60 }, { lightness: 60}] }];
  		map.setOptions({styles: styles});

  		google.maps.event.addListener(map, "click", function(event) {
  				var lat = event.latLng.lat();
  				var lng = event.latLng.lng();
  				// populate yor box/field with lat, lng
  				alert("Lat=" + lat + "; Lng=" + lng);
  		});
  		var styles = [ {stylers: [{ hue: '#e0dce8' }, { saturation: -60 }, { lightness: 60}] }];
  		map.setOptions({styles: styles});



      var boundaries = [  {id : 'NW', x: -33.7686404977, y: 150.948070188},
  														{id : 'NE', x: -33.768640497, y: 151.084035131},
  														{id : 'SE', x: -33.8750330367, y: 151.084035131},
  														{id : 'SW', x: -33.8750330367, y: 150.948070188} ];

      var overlay = new OverlayView();
    	overlay.setBoundaries(boundaries);
      overlay.setMap(map);

      var locations = [];
      $.getJSON( 'data/locations/all', function( data ) {
        $.each( data, function( key, val ) {
          locations.push(val);
        });
        $.getScript('js/local/startup.js')
          .done(function( script, textStatus ) {
            console.log( textStatus );
          })
          .fail(function( jqxhr, settings, exception ) {
            console.log("failed to load startup script");
          });
      });
  </script>
bw  1 /html>
